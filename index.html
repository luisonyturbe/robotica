<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía de Estudio de Robótica</title>
    <!--
        CSS (Estilos) está integrado en este mismo archivo.
        No se necesita un archivo .css separado.
    -->
    <style>
        /* Estilos Generales */
        :root {
            --color-primario: #005a9c; /* Azul académico */
            --color-primario-oscuro: #003b6f;
            --color-acento: #fdb813; /* Detalle en dorado/amarillo */
            --color-fondo: #f4f7f6;
            --color-tarjeta: #ffffff;
            --color-texto: #333;
            --color-quiz-verde: #28a745;
            --color-quiz-rojo: #d9534f;
        }

        .video-container iframe,
        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        .video-placeholder-text {
            /* Se queda dentro del .video-container */
            color: #777;
            font-size: 1.1em;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            font-weight: 500;
        }

        .video-grid {
            display: grid;
            grid-template-columns: 1fr; /* 1 columna por defecto (móvil) */
            gap: 20px;
            margin-top: 20px;
        }

        .video-grid-item h3 {
            font-size: 1.2em;
            text-align: center;
            margin-bottom: 10px;
            color: var(--color-primario-oscuro);
        }
        
        /* Media query para pantallas más grandes (tablets y desktops) */
        @media (min-width: 768px) {
            .video-grid {
                grid-template-columns: repeat(3, 1fr); /* 3 columnas */
            }
            header h1 {
                font-size: 2.5em;
            }
        }

        .main-nav {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 30px;
        }

        .nav-button {
            display: block;
            background-color: var(--color-primario);
            color: #ffffff;
            text-decoration: none;
            padding: 15px 20px;
            border-radius: 5px;
            text-align: center;
            font-size: 1.1em;
            font-weight: 500;
            transition: background-color 0.3s ease, transform 0.2s ease;
            cursor: pointer;
            border: none;
        }

        .nav-button:hover {
            background-color: var(--color-primario-oscuro);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .general-quiz {
            background-color: #e9f1f7;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-top: 30px;
        }

        .quiz-button {
            display: inline-block;
            background-color: var(--color-quiz-verde);
            color: #ffffff;
            text-decoration: none;
            padding: 12px 25px;
            border-radius: 5px;
            font-size: 1.2em;
            font-weight: bold;
            transition: background-color 0.3s ease;
            cursor: pointer;
            border: none;
        }

        .quiz-button.general {
            /* Un rojo/naranja más llamativo para el quiz principal */
            background-color: #e65100; 
        }

        .quiz-button:hover {
            opacity: 0.9;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .back-button {
            display: inline-block;
            margin-top: 20px;
            font-size: 1em;
            background-color: #6c757d; /* Gris */
        }

        .back-button:hover {
            background-color: #5a6268;
        }

        /* --- Estilos del Quiz --- */
        .quiz-container {
            padding: 20px;
        }

        #question-header {
            margin-bottom: 20px;
        }

        #question-text {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        #question-counter {
            font-size: 0.9em;
            color: #777;
            text-align: right;
        }

        #options-container {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        #options-container li {
            background-color: #f9f9f9;
            border: 2px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 10px;
            font-size: 1.1em;
            cursor: pointer;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        #options-container li:hover {
            background-color: #e9f1f7;
        }

        #options-container li.selected {
            background-color: #d4e6f1;
            border-color: var(--color-primario);
            font-weight: bold;
        }

        #submit-btn {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            font-weight: bold;
            color: #fff;
            background-color: #007bff;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }

        #submit-btn:hover {
            background-color: #0056b3;
        }

        /* Resultados del Quiz */
        .results-container {
            padding: 20px;
        }

        #results-score {
            font-size: 1.8em;
            font-weight: bold;
            color: var(--color-primario-oscuro);
            text-align: center;
            margin-bottom: 30px;
        }

        #incorrect-answers h3 {
            color: var(--color-quiz-rojo);
            border-bottom: 2px solid #f5c6cb;
            padding-bottom: 5px;
        }
        
        #correct-answers h3 {
            color: var(--color-quiz-verde);
            border-bottom: 2px solid #c3e6cb;
            padding-bottom: 5px;
        }


        #incorrect-answers ul {
            list-style: none;
            padding: 0;
        }

        #incorrect-answers li {
            background-color: #fdf7f7;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
        }

        #incorrect-answers .question {
            font-weight: bold;
            margin-bottom: 5px;
        }

        #incorrect-answers .user-answer {
            color: var(--color-quiz-rojo);
        }

        #incorrect-answers .correct-answer {
            color: var(--color-quiz-verde);
            font-weight: 500;
        }
    </style>
</head>
<body>

    <!-- 
        CONTENEDOR DE PÁGINAS
        Aquí están todas las "páginas" (secciones).
        El JavaScript se encarga de mostrar solo la activa.
    -->

    <!-- ========== PÁGINA PRINCIPAL (index.html) ========== -->
    <div id="page-main" class="page active">
        <header>
            <h1>Guía de Estudio de Robótica</h1>
        </header>
        
        <main>
            <section class="video-wrapper">
                <h2>Videos de Repaso</h2>
                
                <div class="video-grid">
                    <!-- Video 1 (Placeholder) -->
                    <div class="video-grid-item">
                        <h3>1. OneDrive</h3>
                        <div class="video-container">
                            <video src="https://luisonyturbe.github.io/robotica/onedrive.mov" controls playsinline></video>
                        </div>
                    </div>
                    <!-- Video 2 (Placeholder) -->
                    <div class="video-grid-item">
                        <h3>2. Roles de Equipo</h3>
                        <div class="video-container">
                             <video src="https://luisonyturbe.github.io/robotica/Roles.mov" controls playsinline></video>
                        </div>
                    </div>
                    <!-- Video 3 (Placeholder) -->
                    <div class="video-grid-item">
                        <h3>3. Algoritmos</h3>
                        <div class="video-container">
                             <video src="https://luisonyturbe.github.io/robotica/Algoritmo.mov" controls playsinline></video>
                        </div>
                    </div>
                </div>
            </section>
            
            <nav class="main-nav">
                <h2>Temario</h2>
                <button onclick="navigateToPage('page-tema1')" class="nav-button">1. OneDrive</button>
                <button onclick="navigateToPage('page-tema2')" class="nav-button">2. Roles de Equipo</button>
                <button onclick="navigateToPage('page-tema3')" class="nav-button">3. Ventana de la aplicación Spike</button>
                <button onclick="navigateToPage('page-tema4')" class="nav-button">4. Piezas electrónicas</button>
                <button onclick="navigateToPage('page-tema5')" class="nav-button">5. Bitácora de Evidencias</button>
                <button onclick="navigateToPage('page-tema6')" class="nav-button">6. Algoritmos</button>
                <button onclick="navigateToPage('page-tema7')" class="nav-button">7. Diagramas de Flujo</button>
            </nav>
            
            <section class="general-quiz">
                <h2>Evaluación General</h2>
                <p>¿Listo para probar todo lo que aprendiste? Realiza el examen general.</p>
                <button onclick="navigateToPage('page-quiz', 'quiz-robotica')" class="quiz-button general">Realizar QUIZ (20 Preguntas)</button>
            </section>
        </main>
        
        <footer>
            <p>Guía de estudio para el examen de Robótica</p>
        </footer>
    </div>

    <!-- ========== PÁGINA TEMA 1: OneDrive ========== -->
    <div id="page-tema1" class="page">
        <header>
            <h1>1. OneDrive</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>¿Qué es y para qué se utiliza?</h2>
                <p><strong>Qué es:</strong> Es un servicio de almacenamiento en la nube de Microsoft. Piensa en él como una "mochila invisible" digital.</p>
                <p><strong>Para qué sirve:</strong> Te permite guardar, acceder y compartir tus archivos (documentos, fotos, videos, evidencias) desde cualquier dispositivo con internet (iPad, computadora, celular).</p>
            </section>

            <section class="content-section">
                <h2>Partes Principales de la Aplicación</h2>
                <ul>
                    <li><strong>Inicio:</strong> Muestra tus archivos recientes y sugeridos.</li>
                    <li><strong>Mis archivos:</strong> Aquí están todas tus carpetas y archivos personales. Es tu sección principal.</li>
                    <li><strong>Compartido:</strong> Archivos que otras personas te han compartido o que tú has compartido.</li>
                    <li><strong>Bibliotecas:</strong> Muestra los archivos de los equipos de Microsoft Teams a los que perteneces.</li>
                    <li><strong>Papelera de reciclaje:</strong> Guarda los archivos que has eliminado por un tiempo.</li>
                    <li><strong>Botón "+" (Agregar):</strong> Es el botón más importante. Te permite:
                        <ul>
                            <li>Crear nuevas carpetas.</li>
                            <li>Subir archivos desde tu dispositivo.</li>
                            <li>Crear nuevos documentos de Word, Excel o PowerPoint.</li>
                            <li>Digitalizar (escanear) documentos con la cámara.</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Cómo iniciar sesión y acceder</h2>
                <p>Debes usar tu <strong>correo institucional</strong> y tu contraseña personal. Puedes acceder desde:</p>
                <ul>
                    <li>La aplicación "OneDrive" en tu iPad.</li>
                    <li>El sitio web <strong>office.com</strong> en cualquier computadora.</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Crear, Guardar y Compartir</h2>
                <ul>
                    <li><strong>Crear:</strong> Usa el botón "+" para crear una "Carpeta" o un nuevo "Documento de Word".</li>
                    <li><strong>Guardar:</strong> ¡Se guarda automáticamente! Mientras trabajas en un archivo de Office (Word, Excel) en la nube, todos tus cambios se guardan al instante.</li>
                    <li><strong>Compartir:</strong>
                        <ol>
                            <li>Busca tu archivo o carpeta y presiona los 3 puntos (...) al lado del nombre.</li>
                            <li>Selecciona la opción <strong>"Compartir"</strong>.</li>
                            <li>Puedes escribir el correo de la persona o seleccionar <strong>"Copiar vínculo"</strong>.</li>
                            <li><strong>Importante:</strong> Puedes elegir si la persona puede <strong>"Ver"</strong> (solo lectura) o <strong>"Editar"</strong> (modificar) el archivo.</li>
                        </ol>
                    </li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Importancia del Orden</h2>
                <p class="punto-clave">Es vital mantener tus archivos ordenados. Debes <strong>crear una carpeta para cada materia</strong> (ej. "Robótica", "Matemáticas", "Español") dentro de "Mis archivos". Dentro de cada materia, puedes crear más carpetas (ej. "Evidencias", "Tareas"). Esto te ayuda a encontrar tus trabajos rápidamente y a no perder evidencias.</p>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Volver al Temario</button>
        </main>
    </div>

    <!-- ========== PÁGINA TEMA 2: Roles de Equipo ========== -->
    <div id="page-tema2" class="page">
        <header>
            <h1>2. Roles de Equipo</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>¿Cuáles son los roles?</h2>
                <p>En el equipo de robótica, hay 4 roles principales:</p>
                <ul>
                    <li>Capitán</li>
                    <li>Programador</li>
                    <li>Constructor</li>
                    <li>Administrador</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Tareas y Responsabilidades</h2>
                <div class="punto-clave">
                    <h3>Capitán (Líder)</h3>
                    <ul>
                        <li>Es el líder y se preocupa por la unión del equipo.</li>
                        <li>Garantiza que todas las tareas de la sesión se completen.</li>
                        <li>Administra el tiempo para lograr el desafío.</li>
                        <li>Comparte el progreso con el profesor.</li>
                        <li>Realiza reportes y <strong>sube las evidencias a OneDrive</strong>.</li>
                    </ul>
                </div>
                <div class="punto-clave">
                    <h3>Programador (Código)</h3>
                    <ul>
                        <li>Propone al equipo el <strong>algoritmo</strong> para resolver el desafío.</li>
                        <li>Es el operador principal del dispositivo (iPad).</li>
                        <li>Crea los programas en la aplicación <strong>Spike Prime</strong>.</li>
                    </ul>
                </div>
                <div class="punto-clave">
                    <h3>Constructor (Robot)</h3>
                    <ul>
                        <li><strong>Arma los modelos</strong> del robot y las misiones.</li>
                        <li>Propone modificaciones al robot para mejorar su funcionamiento.</li>
                        <li>Evalúa el funcionamiento físico del robot.</li>
                        <li>Se encarga de poner el robot en la posición correcta en el escenario.</li>
                    </ul>
                </div>
                <div class="punto-clave">
                    <h3>Administrador (Materiales)</h3>
                    <ul>
                        <li>Reúne los materiales (el set de LEGO) al inicio y los devuelve al final.</li>
                        <li>Se encarga de tener el set <strong>completo y ordenado</strong>.</li>
                        <li>Se asegura de que la <strong>batería del Hub esté cargada</strong>.</li>
                        <li>Administra el tiempo de las pruebas del robot.</li>
                    </ul>
                </div>
            </section>

             <section class="content-section">
                <h2>Importancia del Trabajo en Equipo</h2>
                <p>El éxito no depende de una sola persona. Se necesita <strong>excelente comunicación</strong> y que cada miembro cumpla su rol. El programador necesita que el constructor tenga el robot listo, y ambos necesitan que el administrador tenga la batería cargada. El capitán se asegura de que todo esto suceda y se entregue a tiempo.</p>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Volver al Temario</button>
        </main>
    </div>

    <!-- ========== PÁGINA TEMA 3: Ventana de Spike ========== -->
    <div id="page-tema3" class="page">
        <header>
            <h1>3. Ventana de la aplicación Spike</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>Partes Principales de la Aplicación</h2>
                <p>Al abrir un proyecto, la pantalla se divide en varias zonas:</p>
                <ul>
                    <li><strong>Categorías de Bloques (Izquierda):</strong> Es la paleta de colores. Aquí están todos los bloques de programación, separados por tipo (Motores, Movimiento, Luz, Sonido, Sensores, Control, etc.).</li>
                    <li><strong>Área de Trabajo (Centro):</strong> Es el lienzo grande y vacío donde arrastras y conectas los bloques para crear tu programa. <strong>Aquí es donde se programa.</strong></li>
                    <li><strong>Estado del Hub (Arriba):</strong> Un icono que muestra si el Hub (cerebro) está conectado. Desde aquí puedes conectarlo.</li>
                    <li><strong>Nombre del Proyecto (Arriba):</strong> Haz clic aquí para cambiar el nombre de tu programa (ej. "Mision1").</li>
                    <li><strong>Botones de Ejecución (Abajo a la derecha):</strong>
                        <ul>
                            <li><strong>Botón de Play (Ejecutar):</strong> Inicia el programa en el robot.</li>
                            <li><strong>Botón de Stop (Parar):</strong> Detiene el programa.</li>
                        </ul>
                    </li>
                     <li><strong>Descargar al Hub (Abajo):</strong> Permite guardar el programa en una de las ranuras del Hub (0-19) para ejecutarlo sin el iPad.</li>
                </ul>
                <p class="punto-clave"></p>
            </section>

            <section class="content-section">
                <h2>¿Cómo conectar el Hub?</h2>
                <ol>
                    <li>Haz clic en el icono <strong>"Conectar"</strong> o "Estado del Hub" en la app (arriba).</li>
                    <li>Asegúrate de que el Hub esté encendido.</li>
                    <li>Presiona el <strong>botón de Bluetooth</strong> en el Hub (el botón con el símbolo de Bluetooth). Empezará a parpadear una luz azul.</li>
                    <li>Espera a que el nombre de tu Hub aparezca en la lista en la app y selecciónalo.</li>
                    <li>La luz azul del Hub se quedará fija, y el icono en la app se pondrá verde, indicando que está conectado.</li>
                </ol>
            </section>

             <section class="content-section">
                <h2>Ejecutar, Guardar y Cargar Programas</h2>
                <ul>
                    <li><strong>Ejecutar:</strong> Con el Hub conectado, presiona el <strong>botón de Play (Ejecutar)</strong> en la esquina inferior derecha de la app.</li>
                    <li><strong>Guardar:</strong> Los programas <strong>se guardan automáticamente</strong> en la app. Para mantener el orden, haz clic en el nombre (ej. "Proyecto 1") en la parte de arriba y cámbialo a algo descriptivo (ej. "Prueba Avance").</li>
                    <li><strong>Cargar:</strong> Para abrir un programa que ya hiciste, debes volver a la pantalla de "Inicio" de la app (presionando la flecha o la casa) y buscarlo en la sección <strong>"Mis proyectos"</strong>.</li>
                </ul>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Volver al Temario</button>
        </main>
    </div>

    <!-- ========== PÁGINA TEMA 4: Piezas Electrónicas ========== -->
    <div id="page-tema4" class="page">
        <header>
            <h1>4. Piezas electrónicas</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>¿Qué es el Hub?</h2>
                <p class="punto-clave">El <strong>Hub</strong> es el <strong>cerebro del robot</strong>. Es la pieza grande (generalmente amarilla y blanca) a la que se conecta todo. Tiene:</p>
                <ul>
                    <li><strong>6 puertos (A, B, C, D, E, F):</strong> Para conectar motores y sensores.</li>
                    <li>Una <strong>matriz de luces 5x5</strong> programable en el frente.</li>
                    <li>Botones (encendido, Bluetooth, botones izquierdo/derecho).</li>
                    <li>Un giroscopio interno (para detectar inclinación).</li>
                    <li>Un altavoz para reproducir sonidos.</li>
                    <li>Almacena y ejecuta los programas.</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Sensores (Los "Sentidos" del Robot)</h2>
                <p>Los sensores le dan información al robot sobre su entorno.</p>
                <ul>
                    <li><strong>Sensor de Color:</strong> Detecta colores (rojo, azul, negro, etc.) y también puede medir la intensidad de la luz reflejada. Se usa para seguir líneas o detenerse en marcas de color.</li>
                    <li><strong>Sensor de Fuerza:</strong> Es un sensor de tacto. Detecta si está siendo presionado o si ha chocado con algo.</li>
                    <li><strong>Sensor de Distancia:</strong> Mide qué tan lejos está un objeto usando ultrasonido (como un murciélago). Se usa para detectar y evitar obstáculos.</li>
                </ul>
            </section>

             <section class="content-section">
                <h2>Motores (El "Movimiento" del Robot)</h2>
                <p>Los motores son los que hacen que el robot se mueva. Hay dos tamaños (medianos y grandes). Se usan para:</p>
                <ul>
                    <li>Hacer girar las ruedas para que el robot avance o gire.</li>
                    <li>Mover brazos, garras u otros mecanismos.</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>¿Cómo conectar correctamente las piezas?</h2>
                <p>Es muy sencillo: <strong>Todas las piezas electrónicas (sensores y motores) se conectan al Hub usando los cables negros.</strong></p>
                <p>Puedes conectar cualquier pieza en cualquiera de los 6 puertos (A, B, C, D, E, F). Solo debes recordar en qué puerto conectaste cada cosa para poder programarlo correctamente en la app (ej. "el motor de la rueda izquierda está en el puerto A").</p>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Volver al Temario</button>
        </main>
    </div>

    <!-- ========== PÁGINA TEMA 5: Bitácora de Evidencias ========== -->
    <div id="page-tema5" class="page">
        <header>
            <h1>5. Bitácora de Evidencias</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>¿Qué es una bitácora y para qué sirve?</h2>
                <p>Una <strong>Bitácora</strong> es un <strong>diario de trabajo</strong>. Usualmente es un documento de Word guardado en la carpeta de tu equipo en OneDrive.</p>
                <p><strong>Sirve para:</strong> Llevar un registro o historial de todo lo que hace el equipo en cada sesión de clase.</p>
            </section>

            <section class="content-section">
                <h2>¿Cómo registrar avances, errores y soluciones?</h2>
                <p>En cada sesión, el equipo (usualmente el Capitán) debe anotar:</p>
                <ul>
                    <li><strong>Fecha:</strong> El día de la clase.</li>
                    <li><strong>Miembros:</strong> Quiénes trabajaron.</li>
                    <li><strong>Avances:</strong> ¿Qué lograron hacer hoy? (ej. "Terminamos el chasis del robot", "Programamos que el robot avance 50 cm y frene").</li>
                    <li><strong>Errores o Problemas:</strong> ¿Qué salió mal? (ej. "El robot gira a la derecha cuando debía ir recto", "El sensor de color no detecta bien el azul").</li>
                    <li><strong>Soluciones:</strong> ¿Cómo intentaron arreglarlo? (ej. "Revisamos los cables de los motores", "Cambiamos el sensor a otro puerto", "Ajustamos la velocidad de un motor").</li>
                </ul>
            </section>

             <section class="content-section">
                <h2>Importancia de Evidenciar el Proceso</h2>
                <p class="punto-clave">El profesor no solo califica el resultado final (si el robot funcionó o no). Califica todo el <strong>proceso de aprendizaje</strong>.</p>
                <p>La bitácora demuestra todo el trabajo, el pensamiento, los problemas que resolvieron y cómo aprendieron de sus errores. Es la <strong>evidencia</strong> de su esfuerzo y colaboración.</p>
            </section>

            <section class="content-section">
                <h2>Formato de Entrega</h2>
                <p>El formato más común es un <strong>documento de Word</strong> (o PowerPoint) que se actualiza cada clase. Debe estar guardado en la carpeta del equipo en <strong>OneDrive</strong> y, usualmente, debe estar <strong>compartido con el profesor</strong> para que pueda ver el progreso.</p>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Volver al Temario</button>
        </main>
    </div>

    <!-- ========== PÁGINA TEMA 6: Algoritmos ========== -->
    <div id="page-tema6" class="page">
        <header>
            <h1>6. Algoritmos</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>¿Qué es un algoritmo?</h2>
                <p>Un algoritmo es un <strong>conjunto de instrucciones ordenadas, paso a paso, para resolver un problema</strong> o realizar una tarea.</p>
                <p>Es la "receta" o el plan que el robot debe seguir. Antes de programar, primero debes pensar el algoritmo.</p>
            </section>

            <section class="content-section">
                <h2>Características de un buen algoritmo</h2>
                <ul>
                    <li><strong>Ordenado:</strong> Los pasos deben seguir una secuencia lógica (no puedes mover el brazo antes de avanzar).</li>
                    <li><strong>Preciso:</strong> Cada instrucción debe ser clara y sin ambigüedades (ej. "Girar 90 grados a la derecha" es preciso. "Girar un poco" no lo es).</li>
                    <li><strong>Finito:</strong> Tiene un inicio y un final. No puede ser un ciclo infinito (a menos que ese sea el objetivo).</li>
                </ul>
            </section>

             <section class="content-section">
                <h2>Ejemplos Cotidianos</h2>
                <p>Usas algoritmos todos los días:</p>
                <ul>
                    <li>Una receta de cocina.</li>
                    <li>Los pasos para lavarte los dientes.</li>
                    <li>Las instrucciones para armar un mueble de IKEA.</li>
                    <li>La ruta que sigues de tu casa a la escuela.</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Ejemplos aplicados en la Robótica</h2>
                <p>Un algoritmo para un robot podría ser:</p>
                <ol>
                    <li><strong>Inicio</strong></li>
                    <li>Avanzar recto 50 cm.</li>
                    <li>Girar a la derecha 90 grados.</li>
                    <li>Avanzar recto 20 cm.</li>
                    <li>Bajar el motor del brazo por 1 rotación.</li>
                    <li><strong>Fin</strong></li>
                </ol>
                <p>Este algoritmo luego se traduce a bloques en la app Spike (un programa secuencial).</p>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Volver al Temario</button>
        </main>
    </div>

    <!-- ========== PÁGINA TEMA 7: Diagramas de Flujo ========== -->
    <div id="page-tema7" class="page">
        <header>
            <h1>7. Diagramas de Flujo</h1>
        </header>
        <main>
            <section class="content-section">
                <h2>¿Qué es y para qué sirve?</h2>
                <p>Un diagrama de flujo es la <strong>representación visual (un dibujo) de un algoritmo</strong>.</p>
                <p>Usa símbolos y flechas para mostrar cómo "fluye" el programa, es decir, el orden de los pasos y las decisiones que se toman.</p>
            </section>

            <section class="content-section">
                <h2>Símbolos Básicos</h2>
                <ul>
                    <li>
                        <strong>Óvalo (Inicio / Fin):</strong>                         <p>Indica dónde empieza y dónde termina el algoritmo.</p>
                    </li>
                    <li>
                        <strong>Rectángulo (Proceso):</strong>                         <p>Indica una acción o instrucción (ej. "Avanzar 50 cm", "Encender motor B").</p>
                    </li>
                    <li>
                        <strong>Rombo (Decisión):</strong>                         <p>Se usa para una pregunta que tiene dos posibles respuestas: "Sí" o "No" (ej. "¿Sensor de fuerza presionado?", "¿Detecta color rojo?").</p>
                    </li>
                    <li>
                        <strong>Flechas (Dirección del Flujo):</strong>
                        <p>Conectan los símbolos y muestran el orden y la dirección que sigue el programa.</p>
                    </li>
                </ul>
            </section>

             <section class="content-section">
                <h2>Transformar Algoritmo en Diagrama</h2>
                <p>Es el segundo paso del proceso de diseño:</p>
                <p class="punto-clave">1. <strong>Piensas</strong> el Algoritmo (la lista de pasos).</p>
                <p class="punto-clave">2. <strong>Dibujas</strong> el Diagrama de Flujo (el algoritmo con símbolos).</p>
                <p class="punto-clave">3. <strong>Programas</strong> el Robot (el diagrama de flujo en bloques de Spike).</p>
            </section>

            <section class="content-section">
                <h2>Lectura e Interpretación</h2>
                <p>Para leer un diagrama de flujo, simplemente sigues el camino de las flechas. Comienzas en el óvalo de "Inicio", realizas las acciones de los "Rectángulos" y, cuando llegas a un "Rombo", eliges el camino de "Sí" o "No" según la condición.</p>
            </section>
            
            <button onclick="navigateToPage('page-main')" class="nav-button back-button">Volver al Temario</button>
        </main>
    </div>


    <!-- ========== PÁGINA DE QUIZ (Genérica) ========== -->
    <div id="page-quiz" class="page">
        <header>
            <h1 id="quiz-title">Quiz de Robótica</h1>
        </header>
        <main>
            <div class="quiz-container" id="quiz-container">
                <div id="question-header">
                    <h2 id="question-text">Cargando pregunta...</h2>
                    <p id="question-counter"></p>
                </div>
                <ul id="options-container">
                    <!-- Las opciones se generarán con JavaScript -->
                </ul>
                <button id="submit-btn" class="quiz-button">Siguiente</button>
            </div>

            <div class="results-container" id="results-container" style="display: none;">
                <h2 id="results-title">Resultados</h2>
                <p id="results-score">Obtuviste 0 de 0 correctas.</p>
                
                <div id="correct-answers">
                     <!-- Aquí se listarán las correctas si es necesario, o un mensaje de felicitación -->
                </div>

                <div id="incorrect-answers">
                    <h3>Respuestas incorrectas:</h3>
                    <!-- Aquí se listarán las preguntas falladas -->
                </div>
                <button onclick="navigateToPage('page-main')" class="nav-button back-button">Volver al inicio</button>
            </div>
        </main>
    </div>


    <!-- 
        *****************************************************
        SCRIPT (Lógica de la página)
        *****************************************************
        Todo el JavaScript está integrado aquí.
        Maneja la navegación de páginas y la lógica del quiz.
    -->
    <script>
        // --- 1. LÓGICA DE NAVEGACIÓN ---
        
        let currentPage = 'page-main';
        
        function showPage(pageId) {
            // Ocultar todas las páginas
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            // Mostrar la página solicitada
            const newPage = document.getElementById(pageId);
            if (newPage) {
                newPage.classList.add('active');
                currentPage = pageId;
                window.scrollTo(0, 0); // Subir al inicio de la página
            } else {
                console.error("No se encontró la página:", pageId);
                document.getElementById('page-main').classList.add('active'); // Volver al inicio si hay error
            }
        }

        function navigateToPage(pageId, quizId = null) {
            if (pageId === 'page-quiz') {
                // Si vamos a un quiz, iniciamos la lógica del quiz
                loadQuiz(quizId);
            }
            // Cambiamos a la página visualmente
            showPage(pageId);
        }

        // Mostrar la página principal al cargar
        document.addEventListener('DOMContentLoaded', () => {
            showPage('page-main');
        });


        // --- 2. BASE DE DATOS DE PREGUNTAS DE ROBÓTICA ---

        const allQuestions = {
            "quiz-robotica": {
                "title": "Quiz General de Robótica",
                "questions": [
                    // Tema 1: OneDrive
                    {
                        "question": "¿Cuál es el propósito principal de OneDrive?",
                        "options": [
                            "Almacenar, acceder y compartir archivos en la nube",
                            "Programar robots y algoritmos",
                            "Chatear con los miembros del equipo",
                            "Dibujar diagramas de flujo"
                        ],
                        "answer": "Almacenar, acceder y compartir archivos en la nube"
                    },
                    {
                        "question": "Para crear una nueva carpeta o subir un archivo en OneDrive, ¿qué botón usas comúnmente?",
                        "options": [
                            "El botón \"+\" (Agregar)",
                            "El botón \"X\" (Cerrar)",
                            "El botón \"Play\" (Ejecutar)",
                            "El botón \"Compartir\""
                        ],
                        "answer": "El botón \"+\" (Agregar)"
                    },
                    {
                        "question": "Si quieres que un compañero pueda modificar tu documento de Word en OneDrive, ¿qué permiso le das?",
                        "options": [
                            "Editar",
                            "Ver",
                            "Imprimir",
                            "Copiar"
                        ],
                        "answer": "Editar"
                    },
                    {
                        "question": "¿Dónde encuentras los archivos que tus compañeros de equipo de Teams han subido?",
                        "options": [
                            "Bibliotecas",
                            "Mis archivos",
                            "Papelera de reciclaje",
                            "Inicio"
                        ],
                        "answer": "Bibliotecas"
                    },
                    // Tema 2: Roles de Equipo
                    {
                        "question": "¿Qué rol es el responsable de armar el robot y proponer modificaciones físicas?",
                        "options": [
                            "Constructor",
                            "Programador",
                            "Capitán",
                            "Administrador"
                        ],
                        "answer": "Constructor"
                    },
                    {
                        "question": "El Programador es el encargado de...",
                        "options": [
                            "Operar la app Spike Prime y proponer el algoritmo",
                            "Cargar la batería del Hub",
                            "Hablar con el profesor sobre el avance",
                            "Ordenar las piezas de LEGO"
                        ],
                        "answer": "Operar la app Spike Prime y proponer el algoritmo"
                    },
                    {
                        "question": "¿Quién se asegura de que el set de LEGO esté completo y la batería del Hub cargada?",
                        "options": [
                            "Administrador",
                            "Capitán",
                            "Constructor",
                            "Programador"
                        ],
                        "answer": "Administrador"
                    },
                    {
                        "question": "El Capitán es el responsable de subir las evidencias de trabajo a...",
                        "options": [
                            "OneDrive",
                            "La app Spike",
                            "El Hub del robot",
                            "La batería"
                        ],
                        "answer": "OneDrive"
                    },
                    // Tema 3: App Spike
                    {
                        "question": "¿En qué parte de la app Spike conectas los bloques para crear un programa?",
                        "options": [
                            "Área de Trabajo",
                            "Mis proyectos",
                            "Categorías de Bloques",
                            "Estado del Hub"
                        ],
                        "answer": "Área de Trabajo"
                    },
                    {
                        "question": "¿Qué botones usas para iniciar y detener tu programa en el robot desde la app?",
                        "options": [
                            "Los botones de Play/Stop",
                            "El botón de Encendido del Hub",
                            "Los botones izquierdo y derecho del Hub",
                            "El botón de Compartir"
                        ],
                        "answer": "Los botones de Play/Stop"
                    },
                    {
                        "question": "Para conectar tu Hub a la app, ¿qué debes activar en el Hub?",
                        "options": [
                            "El botón de Bluetooth",
                            "El botón de Encendido",
                            "El puerto A",
                            "La matriz de luces"
                        ],
                        "answer": "El botón de Bluetooth"
                    },
                    {
                        "question": "¿En qué sección de la app encuentras los bloques para mover motores o leer sensores?",
                        "options": [
                            "Categorías de Bloques",
                            "Área de Trabajo",
                            "Mis Proyectos",
                            "Ajustes"
                        ],
                        "answer": "Categorías de Bloques"
                    },
                    // Tema 4: Piezas Electrónicas
                    {
                        "question": "¿Cuál es el \"cerebro\" del robot, donde se conectan todas las piezas?",
                        "options": [
                            "El Hub",
                            "El Sensor de Color",
                            "El Motor Grande",
                            "El Cable USB"
                        ],
                        "answer": "El Hub"
                    },
                    {
                        "question": "¿Qué pieza usarías para que el robot sepa si ha chocado con una pared?",
                        "options": [
                            "Sensor de Fuerza",
                            "Sensor de Distancia",
                            "Sensor de Color",
                            "Motor Mediano"
                        ],
                        "answer": "Sensor de Fuerza"
                    },
                    {
                        "question": "¿Qué pieza usarías para que el robot siga una línea negra en el suelo?",
                        "options": [
                            "Sensor de Color",
                            "Sensor de Fuerza",
                            "Hub",
                            "Motor Mediano"
                        ],
                        "answer": "Sensor de Color"
                    },
                    {
                        "question": "¿Para qué sirven los Motores?",
                        "options": [
                            "Para dar movimiento al robot (ruedas, brazos)",
                            "Para detectar colores",
                            "Para medir distancias",
                            "Para conectar el Bluetooth"
                        ],
                        "answer": "Para dar movimiento al robot (ruedas, brazos)"
                    },
                    // Tema 5: Bitácora
                    {
                        "question": "¿Qué es una Bitácora de Evidencias?",
                        "options": [
                            "Un diario de trabajo que registra avances, errores y soluciones",
                            "El programa final del robot",
                            "El robot ya construido",
                            "Una carpeta especial en OneDrive"
                        ],
                        "answer": "Un diario de trabajo que registra avances, errores y soluciones"
                    },
                    {
                        "question": "¿Por qué es importante registrar los \"errores\" en la bitácora?",
                        "options": [
                            "Para aprender de ellos y no repetirlos",
                            "Para bajar la calificación del equipo",
                            "Para culpar a un compañero",
                            "No es importante, solo se anotan los éxitos"
                        ],
                        "answer": "Para aprender de ellos y no repetirlos"
                    },
                    {
                        "question": "¿Qué información NO es necesaria en una bitácora diaria?",
                        "options": [
                            "El color favorito del programador",
                            "La fecha y los miembros presentes",
                            "Los problemas que tuvieron",
                            "Las soluciones que intentaron"
                        ],
                        "answer": "El color favorito del programador"
                    },
                    {
                        "question": "Evidenciar el proceso (avances, errores, soluciones) es importante porque...",
                        "options": [
                            "Muestra todo el esfuerzo y aprendizaje, no solo el resultado final",
                            "Es la única forma de aprobar la materia",
                            "Hace que el robot sea más rápido",
                            "Gasta menos batería del Hub"
                        ],
                        "answer": "Muestra todo el esfuerzo y aprendizaje, no solo el resultado final"
                    },
                    // Tema 6: Algoritmos
                    {
                        "question": "Un conjunto de instrucciones ordenadas, paso a paso, para resolver un problema se llama...",
                        "options": [
                            "Algoritmo",
                            "Diagrama de Flujo",
                            "Sensor",
                            "Hub"
                        ],
                        "answer": "Algoritmo"
                    },
                    {
                        "question": "¿Cuál es una característica de un buen algoritmo?",
                        "options": [
                            "Preciso: las instrucciones son claras",
                            "Infinito: nunca termina",
                            "Desordenado: los pasos no importan",
                            "Ambiguo: se puede interpretar de muchas formas"
                        ],
                        "answer": "Preciso: las instrucciones son claras"
                    },
                    {
                        "question": "¿Cuál de los siguientes es un ejemplo de algoritmo?",
                        "options": [
                            "Una receta de cocina",
                            "Un motor",
                            "Un sentimiento",
                            "Un sensor de color"
                        ],
                        "answer": "Una receta de cocina"
                    },
                    {
                        "question": "La instrucción \"Avanzar 50 cm\" es un ejemplo de un paso...",
                        "options": [
                            "Preciso",
                            "Ambiguo",
                            "Infinito",
                            "Desordenado"
                        ],
                        "answer": "Preciso"
                    },
                    // Tema 7: Diagramas de Flujo
                    {
                        "question": "¿Qué es un diagrama de flujo?",
                        "options": [
                            "La representación visual de un algoritmo",
                            "El código del robot escrito en bloques",
                            "Una pieza electrónica del robot",
                            "Una carpeta en OneDrive"
                        ],
                        "answer": "La representación visual de un algoritmo"
                    },
                    {
                        "question": "¿Qué forma se usa en un diagrama de flujo para marcar el \"Inicio\" y el \"Fin\"?",
                        "options": [
                            "Óvalo",
                            "Rectángulo",
                            "Rombo",
                            "Flecha"
                        ],
                        "answer": "Óvalo"
                    },
                    {
                        "question": "¿Qué forma se usa para una acción o proceso como \"Avanzar 50 cm\"?",
                        "options": [
                            "Rectángulo",
                            "Óvalo",
                            "Rombo",
                            "Círculo"
                        ],
                        "answer": "Rectángulo"
                    },
                    {
                        "question": "Si necesitas que el robot pregunte \"¿Detecta color rojo?\", ¿qué símbolo de diagrama de flujo usarías?",
                        "options": [
                            "Rombo (Decisión)",
                            "Rectángulo (Proceso)",
                            "Óvalo (Inicio)",
                            "Flecha (Flujo)"
                        ],
                        "answer": "Rombo (Decisión)"
                    }
                ]
            }
        };


        // --- 3. LÓGICA DEL QUIZ ---

        // Variables globales para el estado del quiz
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;
        let totalQuestions = 0;
        let currentQuizId = '';

        // Elementos del DOM para el Quiz (los buscamos una sola vez)
        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        const quizTitle = document.getElementById('quiz-title');
        const questionText = document.getElementById('question-text');
        const questionCounter = document.getElementById('question-counter');
        const optionsContainer = document.getElementById('options-container');
        const submitBtn = document.getElementById('submit-btn');
        const resultsScore = document.getElementById('results-score');
        const correctAnswersList = document.getElementById('correct-answers');
        const incorrectAnswersList = document.getElementById('incorrect-answers');

        // Función para mezclar un array (Algoritmo Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Función para cargar el quiz
        function loadQuiz(quizId) {
            if (!quizId || !allQuestions[quizId]) {
                quizTitle.textContent = "Error";
                questionText.textContent = "No se encontró el quiz solicitado. Por favor, vuelve al inicio.";
                submitBtn.style.display = 'none';
                return;
            }
            
            currentQuizId = quizId;
            const quizData = allQuestions[quizId];
            quizTitle.textContent = quizData.title;
            
            // Mostrar quiz y ocultar resultados
            quizContainer.style.display = 'block';
            resultsContainer.style.display = 'none';
            submitBtn.style.display = 'block';
            
            // Seleccionar preguntas aleatoriamente
            let questionsToLoad = shuffleArray([...quizData.questions]); // Copia y mezcla
            
            // Para el quiz de robotica, tomamos 20 preguntas
            if (quizId === 'quiz-robotica') {
                totalQuestions = 20;
                currentQuestions = questionsToLoad.slice(0, 20); // Tomar 20
            } else {
                // Lógica para otros quizzes si se añaden en el futuro
                totalQuestions = 5;
                currentQuestions = questionsToLoad.slice(0, 5); // Tomar 5
            }

            userAnswers = new Array(totalQuestions).fill(null);
            currentQuestionIndex = 0;
            score = 0;

            showQuestion();
        }

        // Función para mostrar la pregunta actual
        function showQuestion() {
            // Deseleccionar opciones anteriores
            deselectOptions();

            const questionData = currentQuestions[currentQuestionIndex];
            
            // Mezclar las opciones de esta pregunta
            let shuffledOptions = shuffleArray([...questionData.options]);
            
            questionText.textContent = questionData.question;
            questionCounter.textContent = `Pregunta ${currentQuestionIndex + 1} de ${totalQuestions}`;
            optionsContainer.innerHTML = '';

            shuffledOptions.forEach(option => {
                const li = document.createElement('li');
                li.textContent = option;
                li.onclick = () => selectOption(li, option);
                optionsContainer.appendChild(li);
            });

            if (currentQuestionIndex === totalQuestions - 1) {
                submitBtn.textContent = 'Finalizar Quiz';
            } else {
                submitBtn.textContent = 'Siguiente';
            }
        }

        // Función para seleccionar una opción
        function selectOption(selectedLi, option) {
            deselectOptions();
            selectedLi.classList.add('selected');
            userAnswers[currentQuestionIndex] = option;
        }

        // Función para quitar la clase 'selected' de todas las opciones
        function deselectOptions() {
            const options = optionsContainer.getElementsByTagName('li');
            Array.from(options).forEach(option => {
                option.classList.remove('selected');
            });
        }

        // Event Listener para el botón de Siguiente/Finalizar
        submitBtn.addEventListener('click', () => {
            const selectedOption = userAnswers[currentQuestionIndex];
            
            if (selectedOption === null) {
                // Usamos un modal simple en lugar de alert()
                showSimpleModal('Por favor, selecciona una respuesta.');
                return;
            }

            // Revisar si la respuesta es correcta
            if (selectedOption === currentQuestions[currentQuestionIndex].answer) {
                score++;
            }

            currentQuestionIndex++;

            if (currentQuestionIndex < totalQuestions) {
                showQuestion();
            } else {
                showResults();
            }
        });

        // Función para mostrar los resultados finales
        function showResults() {
            quizContainer.style.display = 'none';
            resultsContainer.style.display = 'block';

            resultsScore.textContent = `Obtuviste ${score} de ${totalQuestions} correctas.`;

            let incorrectHtml = '<ul>';
            let hasIncorrect = false;
            currentQuestions.forEach((question, index) => {
                if (userAnswers[index] !== question.answer) {
                    hasIncorrect = true;
                    incorrectHtml += `
                        <li>
                            <p class="question">${index + 1}. ${question.question}</p>
                            <p class="user-answer"><strong>Tu respuesta:</strong> ${userAnswers[index] || "No contestada"}</p>
                            <p class="correct-answer"><strong>Respuesta correcta:</strong> ${question.answer}</p>
                        </li>
                    `;
                }
            });
            incorrectHtml += '</ul>';

            // Limpiar resultados anteriores y añadir los nuevos
            correctAnswersList.innerHTML = ''; // Limpiamos la sección de correctas
            incorrectAnswersList.innerHTML = '<h3>Respuestas incorrectas:</h3>'; // Reseteamos el título de incorrectas
            
            if (!hasIncorrect) {
                // Si no hay incorrectas, mostrar mensaje de felicitación
                correctAnswersList.innerHTML = '<h3>¡Felicidades! ¡Todas tus respuestas son correctas!</h3>';
                incorrectAnswersList.innerHTML = ''; // Ocultar sección de incorrectas
            } else {
                // Si hay incorrectas, mostrarlas
                incorrectAnswersList.innerHTML += incorrectHtml;
            }
        }

        // Función de modal simple para evitar alert()
        function showSimpleModal(message) {
            // (Esta es una implementación muy simple, se podría mejorar)
            // Por ahora, solo usamos un console.warn para evitar errores.
            console.warn("MENSAJE: " + message);
        }

    </script>
</body>
</html>
